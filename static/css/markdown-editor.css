
/* Enhanced textarea styling for markdown editing that works with kelp-autogrow */
@layer kelp.extend {

    /* Markdown editor container styling */
    .markdown-editor {
        position: relative;
    }

    /* Enhanced textarea styling - respects kelp-autogrow behavior */
    .markdown-editor textarea {
        /* Typography for better markdown readability */
        font-family: var(--font-monospace), monospace;
        font-size: 0.9rem;
        line-height: 1.6;

        /* Always visible border to indicate editing mode */
        border: 2px solid var(--color-primary-border-muted) !important;
        border-radius: var(--border-radius-m);
        padding: var(--size-m);
        background-color: var(--color-background);
        color: var(--color);

        /* Smooth transitions */
        transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;

        /* Better interaction - let kelp-autogrow handle sizing */
        resize: none; /* disable manual resize since kelp-autogrow handles it */

        /* Tab handling for markdown indentation */
        tab-size: 2;

        /* Better text selection */
        selection-color: var(--color-primary-on-vivid);
        selection-background-color: var(--color-primary-fill-vivid);
    }

    /* Enhanced focus state with stronger border */
    .markdown-editor textarea:focus {
        outline: none;
        border-color: var(--color-primary-border-vivid) !important;
        box-shadow: 0 0 0 3px color-mix(in srgb, var(--focus-ring-color) 20%, transparent);
        background-color: var(--color-background);
    }

    /* Placeholder styling */
    .markdown-editor textarea::placeholder {
        color: var(--color-text-muted);
        font-style: italic;
        opacity: 0.7;
    }

    /* Improved hover state for better UX */
    .markdown-editor textarea:hover:not(:focus) {
        border-color: var(--color-primary-border-accent) !important;
    }

    /* Visual indicator for markdown editing context */
    .markdown-editor::before {
        content: "Markdown";
        position: absolute;
        top: -1.25rem;
        right: var(--size-2xs);
        font-size: 0.7rem;
        color: var(--color-text-muted);
        font-weight: 500;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        z-index: 1;
    }

    /* Enhanced caret color for better visibility */
    .markdown-editor textarea:focus {
        caret-color: var(--color-primary-fill-vivid);
    }

    /* Better scrollbar styling - only affects overflow scrolling */
    .markdown-editor textarea::-webkit-scrollbar {
        width: 6px;
    }

    .markdown-editor textarea::-webkit-scrollbar-track {
        background: transparent;
    }

    .markdown-editor textarea::-webkit-scrollbar-thumb {
        background: var(--color-border-accent);
        border-radius: var(--border-radius-s);
    }

    .markdown-editor textarea::-webkit-scrollbar-thumb:hover {
        background: var(--color-primary-border-accent);
    }

    /* Firefox scrollbar styling */
    .markdown-editor textarea {
        scrollbar-width: thin;
        scrollbar-color: var(--color-border-accent) transparent;
    }
}
